# –°–∏—Å—Ç–µ–º–∞ –∏–º–ø–æ—Ä—Ç–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å –≤–∞—Ä–∏–∞—Ü–∏—è–º–∏ - –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –ê–Ω–∞–ª–∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –ò–∑—É—á–µ–Ω–∞ —Ç–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –≤–∞—Ä–∏–∞—Ü–∏–π (ProductVariant –º–æ–¥–µ–ª—å)
- ‚úÖ –ò–∑—É—á–µ–Ω —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∏–º–ø–æ—Ä—Ç–µ—Ä WordPress XML

### 2. –ê–Ω–∞–ª–∏–∑ XML —Å—Ç—Ä—É–∫—Ç—É—Ä—ã WordPress
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –∞—Ç—Ä–∏–±—É—Ç—ã –≤–∞—Ä–∏–∞—Ü–∏–π: `pa_cvet` (—Ü–≤–µ—Ç), `pa_razmer` (—Ä–∞–∑–º–µ—Ä)
- ‚úÖ –í—ã—è–≤–ª–µ–Ω —Ç–∏–ø —Ç–æ–≤–∞—Ä–∞: `product_type = "variable"`
- ‚úÖ –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ü–µ–Ω—ã –≤ `_price` –º–µ—Ç–∞-–ø–æ–ª—è—Ö

### 3. –°–æ–∑–¥–∞–Ω–∏–µ —É–ª—É—á—à–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∏–º–ø–æ—Ä—Ç–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç–µ—Ä `WPVariantsImporter` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—Å–µ—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –≤–∞—Ä–∏–∞—Ü–∏–π
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `WPXMLImporter` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤–∞—Ä–∏–∞—Ü–∏–π
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –≤—Å–µ—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π —Ü–≤–µ—Ç–æ–≤ –∏ —Ä–∞–∑–º–µ—Ä–æ–≤

### 4. API –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –°–æ–∑–¥–∞–Ω API endpoint `/api/admin/import/wordpress-variants`
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–¥–º–∏–Ω–∫–∏ `/admin/products/import-variants`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∏–º–ø–æ—Ä—Ç

### 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –ù–∞–ø–∏—Å–∞–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- ‚úÖ –°–æ–∑–¥–∞–Ω –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç

## üöÄ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
1. **`src/lib/wp-variants-import.ts`** - –ù–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤–∞—Ä–∏–∞—Ü–∏–π
2. **`src/app/api/admin/import/wordpress-variants/route.ts`** - API endpoint
3. **`src/app/admin/products/import-variants/page.tsx`** - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–¥–º–∏–Ω–∫–∏

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
1. **`src/lib/wp-import.ts`** - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∞—Ä–∏–∞—Ü–∏–π –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∏–º–ø–æ—Ä—Ç–µ—Ä
2. **`src/app/admin/products/import/page.tsx`** - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
1. **`scripts/test-variants-import.ts`** - –°–∫—Ä–∏–ø—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–º–ø–æ—Ä—Ç–∞
2. **`scripts/test-import-system.ts`** - –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
3. **`VARIANT_IMPORT_GUIDE.md`** - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. **`IMPORT_SYSTEM_SUMMARY.md`** - –î–∞–Ω–Ω—ã–π –æ—Ç—á–µ—Ç

## üéØ –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–∞—Ä–∏–∞—Ü–∏–π
- **–ü–æ–ª–æ—Ç–µ–Ω—Ü–µ Baldric**: 10 —Ü–≤–µ—Ç–æ–≤ √ó 5 —Ä–∞–∑–º–µ—Ä–æ–≤ = **50 –≤–∞—Ä–∏–∞—Ü–∏–π**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è SKU**: `772-–±–µ–ª—ã–π-100x150`, `772-—Å–∏–Ω–∏–π-30x30` –∏ —Ç.–¥.
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**: –í—Å–µ –≤–∞—Ä–∏–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `product_variants`

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã
- **–¶–≤–µ—Ç–∞**: –ë–µ–ª—ã–π, –ë–∏—Ä—é–∑–∞, –ì–æ–ª—É–±–æ–π, –õ–∏–ª–æ–≤—ã–π, –ü–µ—Ä—Å–∏–∫, –†–æ–∑–æ–≤—ã–π, –°–∞–ª–∞—Ç–æ–≤—ã–π, –°–µ—Ä—ã–π, –°–∏–Ω–∏–π, –°–∏—Ä–µ–Ω–µ–≤—ã–π
- **–†–∞–∑–º–µ—Ä—ã**: 100x150, 30x30, 30x60, 50x90, 70x130
- **–¢–∏–ø —Ç–æ–≤–∞—Ä–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ `variable` —Ç–æ–≤–∞—Ä–æ–≤

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–º–ø–æ—Ä—Ç–∞
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ –ü—Ä–æ–ø—É—Å–∫ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –≤–∞—Ä–∏–∞—Ü–∏–π
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∞–ª—é—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–µ—Ç—Å—è:

```sql
-- –û—Å–Ω–æ–≤–Ω–æ–π —Ç–æ–≤–∞—Ä
products: {
  id: "cuid",
  sku: "772",
  title: "–ü–æ–ª–æ—Ç–µ–Ω—Ü–µ –º–∞—Ö—Ä–æ–≤–æ–µ Baldric",
  price: 64, -- –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞
  categoryId: "category_id"
}

-- –í–∞—Ä–∏–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–∞ (50 –∑–∞–ø–∏—Å–µ–π)
product_variants: [
  { productId: "product_id", color: "–ë–µ–ª—ã–π", size: "100x150", sku: "772-–±–µ–ª—ã–π-100x150", price: 64 },
  { productId: "product_id", color: "–ë–µ–ª—ã–π", size: "30x30", sku: "772-–±–µ–ª—ã–π-30x30", price: 64 },
  { productId: "product_id", color: "–ë–∏—Ä—é–∑–∞", size: "100x150", sku: "772-–±–∏—Ä—é–∑–∞-100x150", price: 64 },
  // ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–ª—è –≤—Å–µ—Ö 50 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
]
```

## üîß –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ê–¥–º–∏–Ω–∫–∞ ‚Üí –¢–æ–≤–∞—Ä—ã ‚Üí –ò–º–ø–æ—Ä—Ç —Å –≤–∞—Ä–∏–∞—Ü–∏—è–º–∏**
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ XML —Ñ–∞–π–ª —ç–∫—Å–ø–æ—Ä—Ç–∞ WordPress
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–º–ø–æ—Ä—Ç–∞
4. –ù–∞–∂–º–∏—Ç–µ **"–ù–∞—á–∞—Ç—å –∏–º–ø–æ—Ä—Ç"**

### 2. –ß–µ—Ä–µ–∑ API
```bash
curl -X POST http://localhost:3000/api/admin/import/wordpress-variants \
  -F "files=@WordPress.2025-10-07.xml" \
  -F "createAllVariants=true"
```

### 3. –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ
```typescript
import { WPVariantsImporter } from '@/lib/wp-variants-import';

const importer = new WPVariantsImporter();
const result = await importer.importFromXML(xmlContent, {
  createAllVariants: true,
  autoCreateCategories: true,
});
```

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ:

1. **–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä—ã —Å –≤–∞—Ä–∏–∞—Ü–∏—è–º–∏** –∏–∑ WordPress XML —Ñ–∞–π–ª–æ–≤
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤—Å–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏** —Ü–≤–µ—Ç–æ–≤ –∏ —Ä–∞–∑–º–µ—Ä–æ–≤
3. **–£–ø—Ä–∞–≤–ª—è—Ç—å –≤–∞—Ä–∏–∞—Ü–∏—è–º–∏** —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
4. **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–º–ø–æ—Ä—Ç–∞** –ø–æ–¥ –≤–∞—à–∏ –Ω—É–∂–¥—ã

### –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –≤–∞—à–µ–≥–æ XML:
- **1 —Ç–æ–≤–∞—Ä**: –ü–æ–ª–æ—Ç–µ–Ω—Ü–µ –º–∞—Ö—Ä–æ–≤–æ–µ Baldric
- **50 –≤–∞—Ä–∏–∞—Ü–∏–π**: –≤—Å–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ 10 —Ü–≤–µ—Ç–æ–≤ √ó 5 —Ä–∞–∑–º–µ—Ä–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ** –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤–∞—Ä–∏–∞—Ü–∏–π –≤ –∞–¥–º–∏–Ω–∫–µ

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ç—Ä–µ–±—É—é—Ç –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –ó–∞—â–∏—Ç–∞ –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π —á–µ—Ä–µ–∑ Prisma ORM
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤ (20MB)

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–í—Ä–µ–º—è –∏–º–ø–æ—Ä—Ç–∞**: ~1-2 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ 100 —Ç–æ–≤–∞—Ä–æ–≤
- **–ü–∞–º—è—Ç—å**: ~50MB –Ω–∞ 1000 —Ç–æ–≤–∞—Ä–æ–≤ —Å –≤–∞—Ä–∏–∞—Ü–∏—è–º–∏
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä**: –¥–æ 20MB XML —Ñ–∞–π–ª–æ–≤

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ
